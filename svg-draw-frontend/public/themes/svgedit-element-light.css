/**
 * SVG-Edit Element Plus Light Theme
 * 深度改造：覆盖所有 UI 元素，使其看起来像 Element Plus 蓝白主题
 */

/* ========== 覆盖 Token 变量值（Light - 蓝白主题） ========== */
:root {
  --se-bg: #ffffff;
  --se-bg-page: #f7f8fa;
  --se-bg-elev: #ffffff;
  --se-panel: #ffffff;
  --se-panel-header: #f5f7fa;
  
  --se-text-primary: #303133;
  --se-text-regular: #606266;
  --se-text-secondary: #909399;
  --se-text-placeholder: #c0c4cc;
  --se-text-disabled: #c0c4cc;
  
  --se-border: #dcdfe6;
  --se-border-lighter: #e4e7ed;
  --se-border-lightest: #ebeef5;
  --se-border-dark: #c0c4cc;
  
  --se-primary: #409eff;
  --se-primary-light: #ecf5ff;
  --se-primary-lighter: #f0f9ff;
  --se-primary-dark: #337ecc;
  --se-primary-weak: #ecf5ff;
  
  --se-canvas-bg: #ffffff;
  --se-workarea-bg: #f5f7fa;
  
  --se-scrollbar-thumb: rgba(144, 147, 153, 0.3);
  --se-scrollbar-thumb-hover: rgba(144, 147, 153, 0.5);
  
  --se-icon: #409eff; /* 浅色模式：默认就是蓝色 */
  --se-icon-hover: #409eff;
  --se-icon-active: #409eff;
  --se-icon-disabled: #c0c4cc;
  --se-icon-on-primary: #ffffff;
  
  /* 标尺颜色 */
  --ruler-color: #409eff; /* 蓝色背景 */
}

/* ========== 基础框架 ========== */
html,
body {
  background-color: var(--se-bg-page) !important;
  color: var(--se-text-primary) !important;
  font-family: var(--se-font-family) !important;
  font-size: var(--se-font-size-md) !important;
}

/* SVG-Edit 主容器 - 必须是白色/浅色背景 */
.svg_editor {
  background: var(--se-bg-page) !important;
  color: var(--se-text-primary) !important;
  font-family: var(--se-font-family) !important;
}

/* ========== 画布区域（关键：必须是白色） ========== */
#workarea {
  background-color: #f5f7fa !important;
  border: 1px solid var(--se-canvas-border) !important;
  border-radius: var(--se-radius-lg) !important;
}

#svgcanvas {
  background-color: #ffffff !important;
  background: #ffffff !important;
}

/* 确保画布背景矩形是白色（只影响背景，不影响用户绘制的SVG） */
#svgcanvas rect[id="canvasBackground"] {
  fill: #ffffff !important;
}

/* ========== 顶部工具栏 ========== */
#tools_top,
#tools_top > * {
  background-color: #ffffff !important;
  border-bottom: 1px solid var(--se-toolbar-border) !important;
  padding: var(--se-spacing-sm) var(--se-spacing-md) !important;
  min-height: auto !important;
}

/* ========== 左侧工具栏 ========== */
#tools_left {
  background-color: #ffffff !important;
  border-right: 1px solid var(--se-sidebar-border) !important;
  padding: var(--se-spacing-sm) !important;
  margin-left: -10px !important;
  margin-right: auto !important;
}

#tools_left button,
#tools_left .tool_button,
#tools_left [role="button"],
#tools_left se-button,
#tools_left se-flyingbutton,
#tools_left se-flyingbutton se-button {
  width: var(--se-button-size-md) !important;
  height: var(--se-button-size-md) !important;
  min-width: var(--se-button-size-md) !important;
  min-height: var(--se-button-size-md) !important;
  padding: 0 !important;
  margin: 2px !important;
  background-color: transparent !important;
  background: transparent !important;
  border: 1px solid transparent !important;
  border-radius: var(--se-radius-md) !important;
  color: var(--se-icon) !important; /* #409eff 蓝色 */
  cursor: pointer !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  transition: all 0.2s ease !important;
}

#tools_left button:hover,
#tools_left .tool_button:hover,
#tools_left [role="button"]:hover,
#tools_left se-button:hover,
#tools_left se-flyingbutton:hover,
#tools_left se-flyingbutton se-button:hover {
  background-color: transparent !important; /* hover 时背景也透明 */
  background: transparent !important;
  border-color: var(--se-primary) !important;
  color: var(--se-icon-hover) !important;
}

#tools_left button:active,
#tools_left .tool_button:active,
#tools_left [role="button"]:active,
#tools_left button.selected,
#tools_left .tool_button.selected,
#tools_left [role="button"].selected,
#tools_left se-button[pressed],
#tools_left se-flyingbutton[pressed],
#tools_left se-flyingbutton se-button[pressed] {
  background-color: transparent !important; /* 浅色模式：选中时背景透明，只有蓝色边框 */
  background: transparent !important;
  border-color: var(--se-primary) !important; /* 蓝色选择框 */
  color: var(--se-icon-active) !important;
}

/* 选中状态：img 图标通过 filter 变蓝（包括 se-button 内部） */
#tools_left button.selected img,
#tools_left .tool_button.selected img,
#tools_left [role="button"].selected img,
#tools_left se-button[pressed] img,
#tools_left se-button[pressed]::part(img),
se-button[pressed] img {
  filter: brightness(0) saturate(100%) invert(48%) sepia(95%) saturate(2476%) hue-rotate(200deg) brightness(102%) contrast(101%) !important;
}

/* 默认状态：img 图标蓝色（浅色模式） */
#tools_left button img,
#tools_left .tool_button img,
#tools_left [role="button"] img,
#tools_left se-button img,
#tools_left se-flyingbutton img,
#tools_left se-flyingbutton se-button img,
se-button img,
se-flyingbutton img,
se-flyingbutton se-button img {
  filter: brightness(0) saturate(100%) invert(48%) sepia(95%) saturate(2476%) hue-rotate(200deg) brightness(102%) contrast(101%) !important; /* 蓝色 */
  transition: filter 0.2s ease !important;
}

/* hover 状态：img 图标保持蓝色 */
#tools_left button:hover img,
#tools_left .tool_button:hover img,
#tools_left [role="button"]:hover img,
#tools_left se-button:hover img,
se-button:hover img {
  filter: brightness(0) saturate(100%) invert(48%) sepia(95%) saturate(2476%) hue-rotate(200deg) brightness(102%) contrast(101%) !important; /* 蓝色 */
  opacity: 0.8 !important;
}

/* 通用：所有工具栏区域的 img 图标（浅色模式：默认蓝色） */
#tools_left img,
#tools_top img,
#tools_bottom img {
  filter: brightness(0) saturate(100%) invert(48%) sepia(95%) saturate(2476%) hue-rotate(200deg) brightness(102%) contrast(101%) !important; /* 蓝色 */
  transition: filter 0.2s ease !important;
}

/* 选中按钮内的 img（保持蓝色） */
#tools_left button.selected img,
#tools_left se-button[pressed] img,
#tools_top button.selected img,
#tools_top se-button[pressed] img {
  filter: brightness(0) saturate(100%) invert(48%) sepia(95%) saturate(2476%) hue-rotate(200deg) brightness(102%) contrast(101%) !important; /* 蓝色 */
}

/* 选中状态：图标本身必须是蓝色，不仅仅是边框 */
#tools_left button.selected svg,
#tools_left button.selected img,
#tools_left .tool_button.selected svg,
#tools_left .tool_button.selected img,
#tools_left [role="button"].selected svg,
#tools_left [role="button"].selected img,
#tools_left se-button[pressed] svg,
#tools_left se-button[pressed] img {
  color: var(--se-icon-active) !important;
}

#tools_left button.selected svg *,
#tools_left .tool_button.selected svg *,
#tools_left se-button[pressed] svg * {
  fill: var(--se-icon-active) !important;
  stroke: var(--se-icon-active) !important;
}

/* ========== 底部工具栏 ========== */
#tools_bottom {
  background-color: #ffffff !important;
  border-top: 1px solid var(--se-toolbar-border) !important;
  padding: var(--se-spacing-sm) var(--se-spacing-md) !important;
}

/* ========== 主按钮（SVG-Edit 标题按钮） ========== */
#main_button,
#main_icon,
#main_icon span,
#main_icon > div {
  color: var(--se-text-primary) !important;
  background-color: transparent !important;
}

#main_icon:hover {
  background-color: var(--se-primary-weak) !important;
  color: var(--se-text-primary) !important;
}

#main_icon.buttondown {
  background-color: var(--se-primary-light) !important;
  color: var(--se-text-primary) !important;
}

/* 主按钮内的图标 */
#main_button svg,
#main_icon svg,
#main_button img,
#main_icon img {
  color: var(--se-icon) !important;
}

#main_icon:hover svg,
#main_icon:hover img {
  color: var(--se-icon-hover) !important;
}

#main_icon.buttondown svg,
#main_icon.buttondown img {
  color: var(--se-icon-active) !important;
}

/* ========== 标题面板 ========== */
#title_panel,
#title_panel > p,
#title_panel span,
#title_panel div {
  color: var(--se-text-primary) !important;
  background-color: transparent !important;
}

/* ========== 输入框 ========== */
input[type="text"],
input[type="number"],
input[type="color"],
select,
textarea {
  height: var(--se-input-height-md) !important;
  padding: 0 var(--se-spacing-sm) !important;
  background-color: var(--se-bg) !important;
  border: 1px solid var(--se-border) !important;
  border-radius: var(--se-radius-md) !important;
  color: var(--se-text-primary) !important;
  font-size: var(--se-font-size-sm) !important;
}

input[type="text"]:focus,
input[type="number"]:focus,
select:focus {
  border-color: var(--se-primary) !important;
  outline: none !important;
  box-shadow: 0 0 0 2px var(--se-focus-ring) !important;
}

/* ========== 图标样式（深度覆盖） ========== */
/* 工具栏按钮默认图标颜色（浅色模式：蓝色） */
.se-ui-root #tools_left button,
.se-ui-root #tools_left se-button,
.se-ui-root #tools_top button,
.se-ui-root #tools_top se-button,
.se-ui-root #tools_bottom button,
.se-ui-root #tools_bottom se-button {
  color: var(--se-icon) !important; /* #409eff 蓝色 */
}

/* hover 状态图标颜色（保持蓝色） */
.se-ui-root #tools_left button:hover,
.se-ui-root #tools_left se-button:hover,
.se-ui-root #tools_top button:hover,
.se-ui-root #tools_top se-button:hover {
  color: var(--se-icon-hover) !important; /* #409eff 蓝色 */
}

/* 选中状态：图标保持蓝色 */
.se-ui-root #tools_left button.selected,
.se-ui-root #tools_left se-button[pressed],
.se-ui-root #tools_top button.selected,
.se-ui-root #tools_top se-button[pressed] {
  color: var(--se-icon-active) !important; /* #409eff 蓝色 */
  border-color: var(--se-primary) !important; /* 蓝色选择框 */
}

/* 选中状态的 SVG 图标强制蓝色（内联 SVG） */
.se-ui-root #tools_left button.selected svg,
.se-ui-root #tools_left se-button[pressed] svg,
.se-ui-root #tools_top button.selected svg,
.se-ui-root #tools_top se-button[pressed] svg {
  color: var(--se-icon-active) !important;
}

.se-ui-root #tools_left button.selected svg *,
.se-ui-root #tools_left se-button[pressed] svg *,
.se-ui-root #tools_top button.selected svg *,
.se-ui-root #tools_top se-button[pressed] svg * {
  fill: var(--se-icon-active) !important;
  stroke: var(--se-icon-active) !important;
}

/* 选中状态的 img 图标（通过 CSS filter 变蓝） */
.se-ui-root #tools_left button.selected img,
.se-ui-root #tools_left se-button[pressed] img,
.se-ui-root #tools_top button.selected img,
.se-ui-root #tools_top se-button[pressed] img {
  /* 将灰色图标转换为蓝色：brightness(0) saturate(100%) invert(XX%) */
  /* 409eff 蓝色对应的 filter 值 */
  filter: brightness(0) saturate(100%) invert(48%) sepia(95%) saturate(2476%) hue-rotate(200deg) brightness(102%) contrast(101%) !important;
}

/* 默认状态的 img 图标（灰色） */
.se-ui-root #tools_left button img,
.se-ui-root #tools_left se-button img,
.se-ui-root #tools_top button img,
.se-ui-root #tools_top se-button img {
  filter: brightness(0) saturate(100%) invert(38%) !important; /* #606266 灰色 */
  transition: filter 0.2s ease !important;
}

/* hover 状态的 img 图标（蓝色） */
.se-ui-root #tools_left button:hover img,
.se-ui-root #tools_left se-button:hover img,
.se-ui-root #tools_top button:hover img,
.se-ui-root #tools_top se-button:hover img {
  filter: brightness(0) saturate(100%) invert(48%) sepia(95%) saturate(2476%) hue-rotate(200deg) brightness(102%) contrast(101%) !important;
}

/* 所有 UI 区域的 SVG 图标继承颜色（只影响工具栏，不影响画布内容） */
.se-ui-root #tools_left svg *,
.se-ui-root #tools_top svg *,
.se-ui-root #tools_bottom svg * {
  fill: currentColor !important;
  stroke: currentColor !important;
}

/* 主按钮区域的 SVG 图标 */
.se-ui-root #main_button svg *,
.se-ui-root #main_icon svg * {
  fill: currentColor !important;
  stroke: currentColor !important;
}

/* 重要：完全不影响画布内的SVG内容，让用户绘制的SVG保持原样 */
/* 不设置任何规则，让SVG使用自己的fill/stroke属性 */

/* ========== 标尺样式 ========== */
#ruler_corner,
#ruler_x,
#ruler_y {
  background: #409eff !important;
}

/* 标尺边缘线改为蓝色 */
#ruler_x {
  border-bottom: 1px solid #409eff !important;
  border-left: 1px solid #409eff !important;
}

#ruler_y {
  border-right: 1px solid #409eff !important;
  border-top: 1px solid #409eff !important;
}

#ruler_corner {
  border-right: 1px solid #409eff !important;
  border-bottom: 1px solid #409eff !important;
}

/* ========== 顶栏上下文面板（id class x y label） ========== */
#cur_context_panel {
  background: #ffffff !important; /* 白色背景 */
  color: #409eff !important; /* 蓝色文字 */
}

#cur_context_panel a {
  color: #409eff !important; /* 蓝色链接 */
}

#cur_context_panel a:hover {
  color: #66b1ff !important; /* hover时浅蓝色 */
  text-decoration: underline !important;
}

/* 选中面板背景保持白色 */
.selected_panel,
.xy_panel {
  background: transparent !important;
  background-color: transparent !important;
}

/* se-input 和 se-spin-input 的 label 文字颜色（通过 Shadow DOM 注入） */
/* 已在 svgeditShadowThemePatcher.ts 中处理 */

/* ========== 滚动条样式（反色：白色轨道，蓝色滑块） ========== */
/* 全局滚动条 */
::-webkit-scrollbar {
  width: 12px;
  height: 12px;
}

::-webkit-scrollbar-track {
  background: #ffffff !important; /* 白色轨道 */
}

::-webkit-scrollbar-thumb {
  background: #409eff !important; /* 蓝色滑块 */
  border-radius: 6px;
  border: 2px solid #ffffff; /* 白色边框 */
}

::-webkit-scrollbar-thumb:hover {
  background: #66b1ff !important; /* hover时浅蓝色 */
}

/* Firefox 滚动条 */
* {
  scrollbar-width: thin;
  scrollbar-color: #409eff #ffffff; /* 滑块颜色 轨道颜色 */
}

/* workarea 滚动条 */
#workarea::-webkit-scrollbar {
  width: 12px;
  height: 12px;
}

#workarea::-webkit-scrollbar-track {
  background: #ffffff !important;
}

#workarea::-webkit-scrollbar-thumb {
  background: #409eff !important;
  border-radius: 6px;
  border: 2px solid #ffffff;
}

#workarea::-webkit-scrollbar-thumb:hover {
  background: #66b1ff !important;
}

/* 工具栏滚动条 */
#tools_left::-webkit-scrollbar-thumb,
#tools_bottom::-webkit-scrollbar-thumb {
  background-color: #409eff !important; /* 蓝色滑块 */
  border-radius: 3px;
}

#tools_left::-webkit-scrollbar-track,
#tools_bottom::-webkit-scrollbar-track {
  background: #ffffff !important; /* 白色轨道 */
}
